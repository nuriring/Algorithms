뱀이나 사다리가 있으면

```python
# import sys
# sys.stdin = open('16928.txt')
# from collections import deque
# from collections import defaultdict
#
# input = sys.stdin.readline
# graph = defaultdict(int)
#
#
# def bfs(V):
#     global check, flag
#     q = deque()
#     q.append(V)
#     visited[V] = 0
#     check[V] = 1
#     flag = 0
#     while q:
#         cs = q.popleft()
#         flag = 0
#         if graph[cs]:
#             flag = 1
#         if cs == 100:
#             return
#         else:
#             for ce in [cs+1,cs+2,cs+3,cs+4,cs+5,cs+6,graph[cs]]:
#                 if 0<=ce<100:
#                     if flag:
#                         q.append(ce)
#                         visited[ce] = visited[cs]
#                         check[ce] = 1
#                     else:
#                         q.append(ce)
#                         visited[ce] = visited[cs+1]
#                         check[ce] = 1
#
#
#
#
#
#
#
#
# N,M = map(int,input().split())
# #N은 사다리수, M은 뱀의 수
# for _ in range(N):
#     x,y = map(int,input().split())
#     graph[x] = y #단방향
#
# for _ in range(M):
#     u,v = map(int,input().split())
#     graph[u] = v  #단방향
#
# print(graph)
#
# visited = [0]*101
# check = [0]*101
#
#
# bfs(1)
# print(visited[100])



import sys

from collections import deque
from collections import defaultdict
sys.stdin = open('16928.txt')
input = sys.stdin.readline
graph = defaultdict(int)


def bfs(V):

    q = deque()
    q.append(V)
    visited[V] = 1
    next_node = []
    while q:
        flag = False
        cs = q.popleft()
        if cs == 100:
            return
        for i in range(1,7):
            next_node.append(cs+i)
        if graph[cs]:
            next_node.append(graph[cs])
            flag = True

        for ce in next_node:
            if 1 <= ce <= 100 and visited[ce] == 0:
                q.append(ce)
                if flag:
                    visited[ce] = visited[cs]
                if not flag:
                    visited[ce] = visited[cs] + 1





N,M = map(int,input().split())
#N은 사다리수, M은 뱀의 수
for _ in range(N):
    x,y = map(int,input().split())
    graph[x] = y #단방향

for _ in range(M):
    u,v = map(int,input().split())
    graph[u] = v  #단방향

# print(graph)

visited = [0]*101

bfs(1)
print(visited[100]-1)

print(visited)

```